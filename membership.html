<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard</title>
    <link rel="stylesheet" href="css/register.css"> 
    <style>
        .dashboard-container {
            display: grid;
            grid-template-columns: 1fr 3fr; 
            gap: 20px;
            margin: 40px;
        }

        .sidebar {
            background-color: #FC766A;
            padding: 20px;
            border-radius: 10px;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center; 
            justify-content: flex-start; 
            text-align: center;
        }

        .sidebar img {
            width: 200px;
            height: auto;
            margin-bottom: 20px;
        }

        .date-time-container {
            margin-top: 20px;
            padding: 20px;
            background-color: #5B84B1;
            color: white;
            border-radius: 10px;
            text-align: center;
            width: 100%;
        }

        .date-time-container h3 {
            margin-bottom: 10px;
            font-size: 18px;
        }

        .main-content {
            background-color: #5B84B1;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .days-left{
            font-size: 32px;
        }

        .membership-status {
            background-color: #008000;
            padding: 20px;
            border-radius: 10px;
            color: white;
            margin-bottom: 20px;
        }

        .quick-links {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .quick-link {
            background-color: #FC766A;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            color: white;
            transition: background-color 0.2s ease;
        }

        .quick-link:hover {
            background-color: #5B84B1;
        }

        .quick-link img {
            height: 100px;
            width: 130px;
            object-fit: cover;
            border-radius: 5px;
        }

        .logo {
            height: auto;
            width: auto;
            max-height: 60px;
            max-width: 120px;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="index.html">HOME</a></li>
                <li><a href="demo.html">DEMO</a></li>
                <li><a href="schools.html">SCHOOLS</a></li>
                <li><a href="register.html">REGISTER</a></li>
                <li><a href="login.html">LOGIN</a></li>
            </ul>
        </nav>
    </header>

    <div class="dashboard-container">
        <div class="sidebar">
            <img id="profile-picture" src="/assets/images/jaf.png" alt="Profile Picture">
            <h2 id="user-name-sidebar">Nairobi Jaffery School</h2>

            <div class="date-time-container">
                <h3 id="user-country">Country: Loading...</h3>
                <h3 id="current-date">Date: Loading...</h3>
                <h3 id="current-time">Time: Loading...</h3>
            </div>
        </div>

        <div class="main-content">
            <h1>Your Dashboard</h1>
            
            <div class="membership-status">
                <p>Your membership is <span id="membership-active-status">Active</span>.</p>
                <p>Membership period: <span id="membership-start"><b>2023-10-07</b></span> to <span id="membership-end"><b>2024-10-07</b></span></p>
                <p><strong><span id="days-left"></span></strong> days remaining in your current membership.</p>
            </div>

            <div class="quick-links">
                <div class="quick-link">
                    <img src="/assets/images/profile.png" alt="Profile"><br>
                    <a href="#">Update Profile</a>
                </div>
                <div class="quick-link">
                    <img src="/assets/images/subscribe.png" alt="Subscription"><br>
                    <a href="coming_soon.html">Manage Subscription</a>
                </div>
                <div class="quick-link">
                    <img src="/assets/images/invoice.png" alt="Invoices"><br>
                    <a href="coming_soon.html">View Invoices</a>
                </div>
                <div class="quick-link">
                    <img src="/assets/images/support.png" alt="Support"><br>
                    <a href="contactus.html">Support</a>
                </div>
                <div class="quick-link">
                    <img src="/assets/images/activity.png" alt="Activity"><br>
                    <a href="dashboard.html">File Appraisal</a>
                </div>
                <div class="quick-link">
                    <img src="/assets/images/logout.png" alt="Logout"><br>
                    <a href="login.html">Logout</a>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-container">
            <div class="footer-logo">
                <img src="/assets/images/logo1.png" alt="Education Appraisal Logo">
            </div>
            <div class="footer-columns">
                <div class="footer-column">
                    <h4>MAIN</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="demo.html">Demo</a></li>
                        <li><a href="schools.html">Schools</a></li>
                        <li><a href="login.html">Appraisals</a></li>
                        <li><a href="register.html">Register</a></li>
                        <li><a href="login.html">Log in</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>LEADERSHIP</h4>
                    <ul>
                        <li><a href="login.html">Principal</a></li>
                        <li><a href="login.html">Head of Section</a></li>
                        <li><a href="login.html">Deputy Head Pastoral</a></li>
                        <li><a href="login.html">Deputy Head Academic</a></li>
                        <li><a href="login.html">Head of Department</a></li>
                        <li><a href="login.html">Phase Leaders</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>TEACHERS AND LEARNERS</h4>
                    <ul>
                        <li><a href="login.html">Teachers</a></li>
                        <li><a href="login.html">Teaching Assistants</a></li>
                        <li><a href="login.html">Formative Appraisal</a></li>
                        <li><a href="coming_soon.html"  target="_blank">Summative Appraisals</a></li>
                        <li><a href="coming_soon.html"  target="_blank">Character Appraisal</a></li>
                        <li><a href="coming_soon.html"  target="_blank">References</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>ADMIN AND SUPPORT</h4>
                    <ul>
                        <li><a href="coming_soon.html"  target="_blank">Administration</a></li>
                        <li><a href="coming_soon.html"  target="_blank">Safety and Security</a></li>
                        <li><a href="coming_soon.html"  target="_blank">IT and Maintenance</a></li>
                        <li><a href="coming_soon.html"  target="_blank">School Transport</a></li>
                        <li><a href="coming_soon.html"  target="_blank">Food Service</a></li>
                        <li><a href="login.html">Surveys</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>STAY INFORMED</h4>
                    <ul>
                        <li><a href="contactus.html">Email us</a></li>
                        <li><a href="news.html">News</a></li>
                        <li><a href="assets/documents/Copyright.pdf">Copyright</a></li>
                        <li><a href="assets/documents/Disclaimer.pdf">Disclaimer</a></li>
                        <li><a href="assets/documents/Privacy Policy.pdf">Privacy policy</a></li>
                        <li><a href="assets/documents/Terms of Use.pdf">Terms of use</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4 class="follow">FOLLOW US</h4>
                    <ul class="social-icons">
                        <li><a href="https://facebook.com" target="_blank"><img src="/assets/images/fb.png" alt="Facebook"></a></li>
                        <li><a href="https://instagram.com" target="_blank"><img src="/assets/images/insta.png" alt="Instagram"></a></li>
                        <li><a href="https://linkedin.com" target="_blank"><img src="/assets/images/Li.png" alt="LinkedIn"></a></li>
                        <li><a href="https://twitter.com" target="_blank"><img src="/assets/images/twt.png" alt="Twitter"></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <script>
        function updateDateTime() {
            const date = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const timeOptions = { hour: '2-digit', minute: '2-digit', second: '2-digit' };

            const currentDate = date.toLocaleDateString(undefined, options);
            const currentTime = date.toLocaleTimeString(undefined, timeOptions);

            document.getElementById('current-date').textContent = `Date: ${currentDate}`;
            document.getElementById('current-time').textContent = `Time: ${currentTime}`;
        }

        function getUserCountry() {
            const locale = Intl.DateTimeFormat().resolvedOptions().locale;
            const region = locale.split('-')[1] || 'Unknown';

            const countryNames = new Intl.DisplayNames(['en'], { type: 'region' });
            const userCountry = countryNames.of(region);

            document.getElementById('user-country').textContent = `Country: ${userCountry}`;
        }

        updateDateTime();
        getUserCountry();
        setInterval(updateDateTime, 1000);

        function startCountdown(expiryDate) {
            const countdownElement = document.getElementById('days-left');

            function updateCountdown() {
                const now = new Date().getTime();
                const distance = new Date(expiryDate).getTime() - now;

                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                countdownElement.innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`; 

                if (distance < 0) {
                    clearInterval(countdownInterval);
                    countdownElement.innerHTML = "EXPIRED";
                }
            }

            const countdownInterval = setInterval(updateCountdown, 1000);
            updateCountdown();
        }

        const expiryDate = '2025-01-01T00:00:00';
        startCountdown(expiryDate);

        function updateDateTime() {
            const date = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const timeOptions = { hour: '2-digit', minute: '2-digit', second: '2-digit' };

            const currentDate = date.toLocaleDateString(undefined, options);
            const currentTime = date.toLocaleTimeString(undefined, timeOptions);

            document.getElementById('current-date').textContent = `Date: ${currentDate}`;
            document.getElementById('current-time').textContent = `Time: ${currentTime}`;
        }

        function getUserCountry() {
            const locale = Intl.DateTimeFormat().resolvedOptions().locale;
            const region = locale.split('-')[1] || 'Unknown';

            const countryNames = new Intl.DisplayNames(['en'], { type: 'region' });
            const userCountry = countryNames.of(region);

            document.getElementById('user-country').textContent = `Country: ${userCountry}`;
        }

        function startCountdown(expiryDate) {
            const countdownElement = document.getElementById('days-left');
            const membershipStatusElement = document.querySelector('.membership-status');

            function updateCountdown() {
                const now = new Date().getTime();
                const distance = new Date(expiryDate).getTime() - now;

                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                countdownElement.innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;

                if (days <= 14 && days > 0) {
                    membershipStatusElement.style.backgroundColor = 'orange';
                }

                if (distance < 0) {
                    clearInterval(countdownInterval);
                    countdownElement.innerHTML = "EXPIRED";
                    membershipStatusElement.style.backgroundColor = 'red';
                }
            }

            const countdownInterval = setInterval(updateCountdown, 1000);
            updateCountdown();
        }

        const expiryDate1 = '2024-10-08T00:00:00';
        updateDateTime();
        getUserCountry();
        startCountdown(expiryDate1);
        setInterval(updateDateTime, 1000);
    </script>
</body>
</html>
